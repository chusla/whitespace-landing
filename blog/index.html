<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon.png">
    
    <title>The Whitespace Journal | Meditation Insights & Science</title>
    <meta name="description" content="Science-backed perspectives on meditation, mindfulness, and mental wellness from Whitespace.">
    <meta property="og:title" content="The Whitespace Journal | Meditation Insights & Science">
    <meta property="og:description" content="Science-backed perspectives on meditation, mindfulness, and mental wellness.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://whitespace.so/blog/assets/blog-images/focused attention.png">
    <meta property="og:url" content="https://whitespace.so/blog/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="The Whitespace Journal | Meditation Insights & Science">
    <meta name="twitter:description" content="Science-backed perspectives on meditation, mindfulness, and mental wellness.">
    <meta name="twitter:image" content="https://whitespace.so/blog/assets/blog-images/focused attention.png">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@300;400;500;600&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="/blog/assets/blog.css">
</head>
<body>
    <canvas id="phosphene-canvas"></canvas>
    
    <!-- Navigation -->
    <nav class="blog-nav">
        <a href="/" class="nav-logo">
            <img src="https://c4c7ee2640e335085d93afe0c1a41ae6.cdn.bubble.io/f1766176221836x544526176091019140/whitespace.png" alt="Whitespace">
        </a>
        <a href="/" class="nav-link">‚Üê Back to Home</a>
    </nav>
    
    <!-- Blog Hero -->
    <section class="blog-hero">
        <h1 class="crimson fade-up visible">The Whitespace Journal</h1>
        <p class="subtitle inter fade-up visible fade-up-delay-1">Science-backed perspectives on meditation, mindfulness, and mental wellness</p>
    </section>
    
    <!-- Blog Grid -->
    <section class="blog-grid">
        <!-- Post 1: Best Meditation Apps 2026 (Most Recent - Jan 1) -->
        <a href="/blog/best-meditation-apps-2026.html" class="blog-card fade-up visible fade-up-delay-2">
            <img 
                src="/blog/assets/blog-images/bestmeditationapps2026.png" 
                alt="Best meditation apps 2026 comparison" 
                class="blog-card-image"
            >
            <div class="blog-card-content">
                <div class="blog-card-meta inter">
                    <span>January 1, 2026</span>
                    <span class="divider">‚Ä¢</span>
                    <span>10 min read</span>
                </div>
                <h2 class="crimson">The 5 Best Meditation Apps of 2026: A Comprehensive Review</h2>
                <p class="blog-card-excerpt inter">Complete comparison of Headspace, Calm, Insight Timer, Waking Up, and Whitespace - honest reviews of what works and what doesn't.</p>
                <span class="blog-card-link">Read Comparison ‚Üí</span>
            </div>
        </a>
        
        <!-- Post 2: App Not Working (Dec 26) -->
        <a href="/blog/app-not-working.html" class="blog-card fade-up visible fade-up-delay-3">
            <img 
                src="/blog/assets/blog-images/thumbnails/digital overwhelm.png" 
                alt="Digital overwhelm and meditation app choice overload" 
                class="blog-card-image"
            >
            <div class="blog-card-content">
                <div class="blog-card-meta inter">
                    <span>December 26, 2025</span>
                    <span class="divider">‚Ä¢</span>
                    <span>8 min read</span>
                </div>
                <h2 class="crimson">Why Your Meditation App Isn't Working (And What to Try Instead)</h2>
                <p class="blog-card-excerpt inter">Most meditation app users quit within weeks. Learn why popular apps fail - and discover what actually works for lasting practice.</p>
                <span class="blog-card-link">Read More ‚Üí</span>
            </div>
        </a>
        
        <!-- Post 3: Focus & Productivity (Dec 22) -->
        <a href="/blog/focus-productivity.html" class="blog-card fade-up visible fade-up-delay-4">
            <img 
                src="/blog/assets/blog-images/thumbnails/focused attention.png" 
                alt="Abstract visualization of focused attention" 
                class="blog-card-image"
            >
            <div class="blog-card-content">
                <div class="blog-card-meta inter">
                    <span>December 22, 2025</span>
                    <span class="divider">‚Ä¢</span>
                    <span>7 min read</span>
                </div>
                <h2 class="crimson">Meditation for Focus and Productivity: The Techniques That Actually Work</h2>
                <p class="blog-card-excerpt inter">ADHD, distraction, and focus problems? Science shows specific meditation techniques enhance attention and workplace productivity.</p>
                <span class="blog-card-link">Read More ‚Üí</span>
            </div>
        </a>
        
        <!-- Post 4: Meditation Frequency (Dec 18) -->
        <a href="/blog/meditation-frequency.html" class="blog-card fade-up visible fade-up-delay-5">
            <img 
                src="/blog/assets/blog-images/thumbnails/meditation calendar.png" 
                alt="Meditation frequency and schedule concept" 
                class="blog-card-image"
            >
            <div class="blog-card-content">
                <div class="blog-card-meta inter">
                    <span>December 18, 2025</span>
                    <span class="divider">‚Ä¢</span>
                    <span>7 min read</span>
                </div>
                <h2 class="crimson">How Often Should You Meditate? What Science Says About Frequency</h2>
                <p class="blog-card-excerpt inter">Daily meditation vs. as-needed practice: research reveals surprising truths about meditation frequency and what creates lasting benefits.</p>
                <span class="blog-card-link">Read More ‚Üí</span>
            </div>
        </a>
        
        <!-- Post 5: Brain Rewiring (Dec 13) -->
        <a href="/blog/brain-rewiring.html" class="blog-card fade-up visible fade-up-delay-6">
            <img 
                src="/blog/assets/blog-images/thumbnails/neural network.png" 
                alt="Abstract visualization of neural networks and neuroplasticity" 
                class="blog-card-image"
            >
            <div class="blog-card-content">
                <div class="blog-card-meta inter">
                    <span>December 13, 2025</span>
                    <span class="divider">‚Ä¢</span>
                    <span>7 min read</span>
                </div>
                <h2 class="crimson">Beyond Relaxation: How Meditation Rewires Your Brain</h2>
                <p class="blog-card-excerpt inter">Meditation isn't just relaxation - it's neuroplasticity in action. Discover how regular practice literally changes brain structure for lasting mental health benefits.</p>
                <span class="blog-card-link">Read More ‚Üí</span>
            </div>
        </a>
        
        <!-- Post 6: Somatic Meditation (Dec 9) -->
        <a href="/blog/somatic-meditation.html" class="blog-card fade-up visible fade-up-delay-7">
            <img 
                src="/blog/assets/blog-images/thumbnails/somatic.png" 
                alt="Body awareness and somatic meditation visualization" 
                class="blog-card-image"
            >
            <div class="blog-card-content">
                <div class="blog-card-meta inter">
                    <span>December 9, 2025</span>
                    <span class="divider">‚Ä¢</span>
                    <span>8 min read</span>
                </div>
                <h2 class="crimson">Somatic Meditation: Healing Through Body Awareness</h2>
                <p class="blog-card-excerpt inter">Body-based mindfulness offers trauma healing through nervous system regulation and interoceptive awareness.</p>
                <span class="blog-card-link">Read More ‚Üí</span>
            </div>
        </a>
        
        <!-- Post 7: App Revolution (Dec 6) -->
        <a href="/blog/app-revolution.html" class="blog-card fade-up visible fade-up-delay-8">
            <img 
                src="/blog/assets/blog-images/thumbnails/digital zen.png" 
                alt="Abstract fusion of digital technology and meditation" 
                class="blog-card-image"
            >
            <div class="blog-card-content">
                <div class="blog-card-meta inter">
                    <span>December 6, 2025</span>
                    <span class="divider">‚Ä¢</span>
                    <span>8 min read</span>
                </div>
                <h2 class="crimson">The Meditation App Revolution: What Science Says About Digital Mindfulness</h2>
                <p class="blog-card-excerpt inter">With over 300 million downloads, meditation apps dominate mental health technology. Discover what the latest research reveals about their effectiveness.</p>
                <span class="blog-card-link">Read More ‚Üí</span>
            </div>
        </a>
        
        <!-- Post 8: Loving-Kindness Meditation (Dec 1) -->
        <a href="/blog/loving-kindness-meditation.html" class="blog-card fade-up visible fade-up-delay-9">
            <img 
                src="/blog/assets/blog-images/thumbnails/loving kindness.png" 
                alt="Expanding circles of compassion visualization" 
                class="blog-card-image"
            >
            <div class="blog-card-content">
                <div class="blog-card-meta inter">
                    <span>December 1, 2025</span>
                    <span class="divider">‚Ä¢</span>
                    <span>8 min read</span>
                </div>
                <h2 class="crimson">Loving-Kindness Meditation: The Science of Cultivating Compassion</h2>
                <p class="blog-card-excerpt inter">Research reveals how loving-kindness meditation builds empathy, reduces inflammation, and transforms relationships.</p>
                <span class="blog-card-link">Read More ‚Üí</span>
            </div>
        </a>
        
        <!-- Post 9: Anxiety Relief (Nov 29) -->
        <a href="/blog/anxiety-relief.html" class="blog-card fade-up visible fade-up-delay-10">
            <img 
                src="/blog/assets/blog-images/thumbnails/calm the storm.png" 
                alt="Abstract visualization of anxiety transforming into calm" 
                class="blog-card-image"
            >
            <div class="blog-card-content">
                <div class="blog-card-meta inter">
                    <span>November 29, 2025</span>
                    <span class="divider">‚Ä¢</span>
                    <span>7 min read</span>
                </div>
                <h2 class="crimson">Calming the Storm: Evidence-Based Meditation Techniques for Anxiety Relief</h2>
                <p class="blog-card-excerpt inter">Anxiety disorders affect 40 million American adults. Discover specific meditation techniques proven by research to reduce anxiety as effectively as medication.</p>
                <span class="blog-card-link">Read More ‚Üí</span>
            </div>
        </a>
        
        <!-- Post 10: Athletes Meditate (Nov 22) -->
        <a href="/blog/athletes-meditate.html" class="blog-card fade-up visible fade-up-delay-11">
            <img 
                src="/blog/assets/blog-images/thumbnails/performance.png" 
                alt="Abstract visualization of focused athletic mindset and meditation" 
                class="blog-card-image"
            >
            <div class="blog-card-content">
                <div class="blog-card-meta inter">
                    <span>November 22, 2025</span>
                    <span class="divider">‚Ä¢</span>
                    <span>8 min read</span>
                </div>
                <h2 class="crimson">From Phil Jackson to Steph Curry: Why Elite Athletes Meditate</h2>
                <p class="blog-card-excerpt inter">Championship-level performance isn't just about physical training - discover the mental edge that's transforming professional sports.</p>
                <span class="blog-card-link">Read More ‚Üí</span>
            </div>
        </a>
        
        <!-- Post 11: Daily Meditation Debate (Nov 18) -->
        <a href="/blog/daily-meditation-debate.html" class="blog-card fade-up visible fade-up-delay-12">
            <img 
                src="/blog/assets/blog-images/thumbnails/Time split.png" 
                alt="Meditation schedule flexibility concept" 
                class="blog-card-image"
            >
            <div class="blog-card-content">
                <div class="blog-card-meta inter">
                    <span>November 18, 2025</span>
                    <span class="divider">‚Ä¢</span>
                    <span>7 min read</span>
                </div>
                <h2 class="crimson">The Daily Meditation Debate: When Rigid Schedules Do More Harm Than Good</h2>
                <p class="blog-card-excerpt inter">Daily meditation isn't for everyone. Research reveals why flexible, as-needed practice may be more sustainable.</p>
                <span class="blog-card-link">Read More ‚Üí</span>
            </div>
        </a>
        
        <!-- Post 12: Sleep Science (Nov 15) -->
        <a href="/blog/sleep-science.html" class="blog-card fade-up visible fade-up-delay-12">
            <img 
                src="/blog/assets/blog-images/thumbnails/paradox.png" 
                alt="Abstract visualization of peaceful sleep with flowing gradients" 
                class="blog-card-image"
            >
            <div class="blog-card-content">
                <div class="blog-card-meta inter">
                    <span>November 15, 2025</span>
                    <span class="divider">‚Ä¢</span>
                    <span>7 min read</span>
                </div>
                <h2 class="crimson">The Science of Better Sleep: How Meditation Apps Are Transforming Rest</h2>
                <p class="blog-card-excerpt inter">New research reveals that app-based mindfulness produces measurable improvements in sleep quality - rivaling clinical interventions.</p>
                <span class="blog-card-link">Read More ‚Üí</span>
            </div>
        </a>
    </section>
    
    <!-- Floating Search Widget -->
    <div class="search-widget" id="searchWidget">
        <button class="search-widget-toggle" id="searchToggle" aria-label="Toggle search">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="11" cy="11" r="8"></circle>
                <path d="m21 21-4.35-4.35"></path>
            </svg>
        </button>
        
        <div class="search-widget-panel">
            <div class="search-widget-header">
                <h3 class="search-widget-title crimson">Explore Topics</h3>
                <div class="search-input-wrapper">
                    <svg class="search-input-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                    <input type="text" class="search-input" id="searchInput" placeholder="Search articles...">
                </div>
            </div>
            
            <div class="search-widget-content">
                <div class="topics-section">
                    <div class="topics-label">Popular Topics</div>
                    <div class="topics-grid" id="topicsGrid">
                        <!-- Topics will be populated by JavaScript -->
                    </div>
                </div>
                
                <div class="results-section">
                    <div class="results-label">
                        <span>Articles</span>
                        <span class="results-count" id="resultsCount">12 articles</span>
                    </div>
                    <div class="results-list" id="resultsList">
                        <!-- Results will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-content">
            <div class="footer-left">
                <img src="https://c4c7ee2640e335085d93afe0c1a41ae6.cdn.bubble.io/f1766176221836x544526176091019140/whitespace.png" alt="Whitespace" class="footer-logo">
                <p class="footer-copyright inter">¬© 2025 Whitespace. All rights reserved.</p>
            </div>
            
            <div class="footer-links">
                <a href="/blog" class="footer-link inter">Blog</a>
                <a href="/privacy" class="footer-link inter">Privacy Policy</a>
                <a href="/terms" class="footer-link inter">Terms of Service</a>
                <a href="mailto:hello@whitespace.so" class="footer-link inter">Contact</a>
            </div>
        </div>
    </footer>
    
    <script>
        // ==========================================
        // Phosphene Background (30% intensity for blog)
        // ==========================================
        const canvas = document.getElementById('phosphene-canvas');
        const ctx = canvas.getContext('2d');
        let phosphenes = [];
        const INTENSITY_MULTIPLIER = 0.3; // 30% of landing page intensity

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }

        function createPhosphenes() {
            phosphenes = [];
            const count = 120;
            for (let i = 0; i < count; i++) {
                const hue = Math.random() > 0.4 ? 210 + Math.random() * 30 : 250 + Math.random() * 20;
                const saturation = Math.random() * 25 + 20;
                const lightness = Math.random() * 25 + 40;
                phosphenes.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    radius: Math.random() * 200 + 100,
                    baseRadius: Math.random() * 200 + 100,
                    opacity: (Math.random() * 0.04 + 0.015) * INTENSITY_MULTIPLIER,
                    baseOpacity: (Math.random() * 0.04 + 0.015) * INTENSITY_MULTIPLIER,
                    vx: (Math.random() - 0.5) * 0.3,
                    vy: (Math.random() - 0.5) * 0.3,
                    hue: hue,
                    saturation: saturation,
                    lightness: lightness,
                    pulseSpeed: Math.random() * 0.02 + 0.01,
                    pulsePhase: Math.random() * Math.PI * 2
                });
            }
        }

        function animatePhosphenes() {
            ctx.fillStyle = 'rgb(10, 10, 15)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            phosphenes.forEach(p => {
                p.x += p.vx;
                p.y += p.vy;

                // Pulsing/breathing effect
                p.pulsePhase += p.pulseSpeed;
                const pulse = Math.sin(p.pulsePhase);
                p.radius = p.baseRadius + pulse * 40;
                p.opacity = p.baseOpacity + pulse * 0.02 * INTENSITY_MULTIPLIER;

                // Gentle drift in velocity
                p.vx += (Math.random() - 0.5) * 0.01;
                p.vy += (Math.random() - 0.5) * 0.01;
                p.vx = Math.max(-0.4, Math.min(0.4, p.vx));
                p.vy = Math.max(-0.4, Math.min(0.4, p.vy));

                if (p.x < -p.radius) p.x = canvas.width + p.radius;
                if (p.x > canvas.width + p.radius) p.x = -p.radius;
                if (p.y < -p.radius) p.y = canvas.height + p.radius;
                if (p.y > canvas.height + p.radius) p.y = -p.radius;

                const gradient = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, p.radius);
                gradient.addColorStop(0, `hsla(${p.hue}, ${p.saturation}%, ${p.lightness}%, ${p.opacity})`);
                gradient.addColorStop(1, 'rgba(0, 0, 0, 0)');

                ctx.fillStyle = gradient;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
                ctx.fill();
            });

            requestAnimationFrame(animatePhosphenes);
        }

        window.addEventListener('resize', () => {
            resizeCanvas();
            createPhosphenes();
        });

        resizeCanvas();
        createPhosphenes();
        animatePhosphenes();

        // ==========================================
        // Intersection Observer for Scroll Animations
        // ==========================================
        const observerOptions = {
            root: null,
            rootMargin: '-50px',
            threshold: 0.1
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.fade-up:not(.visible)').forEach(el => {
            observer.observe(el);
        });

        // ==========================================
        // Search Widget Functionality
        // ==========================================
        
        // Article database with topics and keywords
        const articles = [
            {
                title: "The 5 Best Meditation Apps of 2026: A Comprehensive Review",
                url: "/blog/best-meditation-apps-2026.html",
                date: "January 1, 2026",
                readTime: "10 min",
                topics: ["apps", "comparison", "headspace", "calm", "insight timer", "waking up", "whitespace", "personalization"],
                keywords: ["meditation apps", "app review", "best apps", "comparison", "headspace", "calm", "insight timer", "waking up", "whitespace", "2025", "personalized meditation"]
            },
            {
                title: "Why Your Meditation App Isn't Working",
                url: "/blog/app-not-working.html",
                date: "December 26, 2025",
                readTime: "8 min",
                topics: ["apps", "habits", "motivation", "personalization"],
                keywords: ["meditation apps", "not working", "quit", "dropout", "habits", "motivation", "engagement", "personalization"]
            },
            {
                title: "Meditation for Focus and Productivity",
                url: "/blog/focus-productivity.html",
                date: "December 22, 2025",
                readTime: "7 min",
                topics: ["focus", "productivity", "ADHD", "attention", "workplace"],
                keywords: ["focus", "productivity", "ADHD", "attention", "concentration", "work", "workplace", "distraction", "performance"]
            },
            {
                title: "How Often Should You Meditate?",
                url: "/blog/meditation-frequency.html",
                date: "December 18, 2025",
                readTime: "7 min",
                topics: ["frequency", "habits", "schedule", "research"],
                keywords: ["frequency", "how often", "daily", "schedule", "routine", "consistency", "dose", "practice"]
            },
            {
                title: "Beyond Relaxation: How Meditation Rewires Your Brain",
                url: "/blog/brain-rewiring.html",
                date: "December 13, 2025",
                readTime: "7 min",
                topics: ["neuroscience", "brain", "neuroplasticity", "research"],
                keywords: ["brain", "neuroscience", "neuroplasticity", "rewire", "structure", "gray matter", "amygdala", "prefrontal cortex"]
            },
            {
                title: "Somatic Meditation: Healing Through Body Awareness",
                url: "/blog/somatic-meditation.html",
                date: "December 9, 2025",
                readTime: "8 min",
                topics: ["somatic", "body", "trauma", "healing", "nervous system"],
                keywords: ["somatic", "body awareness", "trauma", "healing", "nervous system", "interoception", "embodiment", "physical"]
            },
            {
                title: "The Meditation App Revolution",
                url: "/blog/app-revolution.html",
                date: "December 6, 2025",
                readTime: "8 min",
                topics: ["apps", "technology", "digital", "research"],
                keywords: ["apps", "technology", "digital", "revolution", "mobile", "smartphone", "effectiveness", "research"]
            },
            {
                title: "Loving-Kindness Meditation: The Science of Compassion",
                url: "/blog/loving-kindness-meditation.html",
                date: "December 1, 2025",
                readTime: "8 min",
                topics: ["loving-kindness", "compassion", "metta", "relationships", "research"],
                keywords: ["loving-kindness", "metta", "compassion", "empathy", "relationships", "self-compassion", "kindness", "altruism"]
            },
            {
                title: "Calming the Storm: Meditation for Anxiety Relief",
                url: "/blog/anxiety-relief.html",
                date: "November 29, 2025",
                readTime: "7 min",
                topics: ["anxiety", "stress", "mental health", "techniques"],
                keywords: ["anxiety", "stress", "relief", "calm", "panic", "worry", "mental health", "techniques", "breathing"]
            },
            {
                title: "Why Elite Athletes Meditate",
                url: "/blog/athletes-meditate.html",
                date: "November 22, 2025",
                readTime: "8 min",
                topics: ["athletes", "performance", "sports", "focus"],
                keywords: ["athletes", "sports", "performance", "elite", "NBA", "NFL", "focus", "mental training", "competition"]
            },
            {
                title: "The Daily Meditation Debate",
                url: "/blog/daily-meditation-debate.html",
                date: "November 18, 2025",
                readTime: "7 min",
                topics: ["frequency", "habits", "flexibility", "schedule"],
                keywords: ["daily", "debate", "frequency", "schedule", "routine", "flexible", "as-needed", "sustainable"]
            },
            {
                title: "The Science of Better Sleep",
                url: "/blog/sleep-science.html",
                date: "November 15, 2025",
                readTime: "7 min",
                topics: ["sleep", "insomnia", "research", "apps"],
                keywords: ["sleep", "insomnia", "rest", "night", "bedtime", "quality", "deep sleep", "relaxation"]
            }
        ];

        // Extract unique topics for the tag cloud
        const allTopics = [...new Set(articles.flatMap(a => a.topics))].sort();
        
        // DOM elements
        const searchWidget = document.getElementById('searchWidget');
        const searchToggle = document.getElementById('searchToggle');
        const searchInput = document.getElementById('searchInput');
        const topicsGrid = document.getElementById('topicsGrid');
        const resultsList = document.getElementById('resultsList');
        const resultsCount = document.getElementById('resultsCount');
        
        let activeTopics = [];
        
        // Toggle widget open/closed
        searchToggle.addEventListener('click', () => {
            searchWidget.classList.toggle('open');
            if (searchWidget.classList.contains('open')) {
                setTimeout(() => searchInput.focus(), 300);
            }
        });
        
        // Close widget when clicking outside
        document.addEventListener('click', (e) => {
            if (!searchWidget.contains(e.target) && searchWidget.classList.contains('open')) {
                searchWidget.classList.remove('open');
            }
        });
        
        // Close widget on Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && searchWidget.classList.contains('open')) {
                searchWidget.classList.remove('open');
            }
        });
        
        // Render topics
        function renderTopics() {
            topicsGrid.innerHTML = allTopics.map(topic => `
                <button class="topic-tag ${activeTopics.includes(topic) ? 'active' : ''}" data-topic="${topic}">
                    ${topic}
                </button>
            `).join('');
            
            // Add click handlers
            topicsGrid.querySelectorAll('.topic-tag').forEach(tag => {
                tag.addEventListener('click', () => {
                    const topic = tag.dataset.topic;
                    if (activeTopics.includes(topic)) {
                        activeTopics = activeTopics.filter(t => t !== topic);
                    } else {
                        activeTopics.push(topic);
                    }
                    renderTopics();
                    filterAndRenderResults();
                });
            });
        }
        
        // Highlight search terms in text
        function highlightText(text, searchTerm) {
            if (!searchTerm) return text;
            const regex = new RegExp(`(${searchTerm.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')})`, 'gi');
            return text.replace(regex, '<span class="highlight">$1</span>');
        }
        
        // Filter and render results
        function filterAndRenderResults() {
            const searchTerm = searchInput.value.toLowerCase().trim();
            
            let filtered = articles;
            
            // Filter by search term
            if (searchTerm) {
                filtered = filtered.filter(article => {
                    const titleMatch = article.title.toLowerCase().includes(searchTerm);
                    const keywordMatch = article.keywords.some(k => k.toLowerCase().includes(searchTerm));
                    const topicMatch = article.topics.some(t => t.toLowerCase().includes(searchTerm));
                    return titleMatch || keywordMatch || topicMatch;
                });
            }
            
            // Filter by active topics
            if (activeTopics.length > 0) {
                filtered = filtered.filter(article => 
                    activeTopics.some(topic => article.topics.includes(topic))
                );
            }
            
            // Update count
            resultsCount.textContent = `${filtered.length} article${filtered.length !== 1 ? 's' : ''}`;
            
            // Render results
            if (filtered.length === 0) {
                resultsList.innerHTML = `
                    <div class="no-results">
                        <div class="no-results-icon">üîç</div>
                        <div>No articles found</div>
                    </div>
                `;
            } else {
                resultsList.innerHTML = filtered.map(article => `
                    <a href="${article.url}" class="result-item">
                        <div class="result-item-title">${highlightText(article.title, searchTerm)}</div>
                        <div class="result-item-meta">
                            <span>${article.date}</span>
                            <span>‚Ä¢</span>
                            <span>${article.readTime}</span>
                            ${article.topics.slice(0, 2).map(t => `<span class="result-item-tag">#${t}</span>`).join('')}
                        </div>
                    </a>
                `).join('');
            }
        }
        
        // Search input handler with debounce
        let searchTimeout;
        searchInput.addEventListener('input', () => {
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(filterAndRenderResults, 150);
        });
        
        // Initialize
        renderTopics();
        filterAndRenderResults();
    </script>
    
    <!-- Vercel Analytics -->
    <script defer src="/_vercel/insights/script.js"></script>
</body>
</html>

